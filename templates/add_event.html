<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Add Event | ClubBee</title>

  <!-- Tailwind is included -->

  <script type="text/javascript" src="{{url_for('static',filename='./script/script.js')}}"></script>
  <link rel="stylesheet"  type="text/css" href="{{url_for('static',filename='./styles/main.css')}}">
  <link rel="apple-touch-icon" sizes="180x180" href="img/ClubBee.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="img/ClubBee.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="img/ClubBee.png"/>
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#00b4b6"/>

  <meta name="description" content="ClubBee Admin Panel">

  <meta property="og:url" content="https://justboil.github.io/admin-one-tailwind/">
  <meta property="og:site_name" content="JustBoil.me">
  <meta property="og:title" content="Admin One HTML">
  <meta property="og:description" content="Admin One - free Tailwind dashboard">
  <meta property="og:image" content="https://justboil.me/images/one-tailwind/repository-preview-hi-res.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1920">
  <meta property="og:image:height" content="960">

  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="Admin One HTML">
  <meta property="twitter:description" content="Admin One - free Tailwind dashboard">
  <meta property="twitter:image:src" content="https://justboil.me/images/one-tailwind/repository-preview-hi-res.png">
  <meta property="twitter:image:width" content="1920">
  <meta property="twitter:image:height" content="960">
  {% include 'navbar.html' %}
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130795909-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-130795909-1');
  </script>

</head>
<body>

<div id="app">
  
<section class="is-title-bar">
    <div class="flex flex-col md:flex-row items-center justify-between space-y-6 md:space-y-0">
      <ul>
        <li>Admin</li>
        <li>Add Event</li>
      </ul>
    </div>
  </section>
  <section class="section main-section">
    <div class="grid grid-cols-1 gap-6 lg:grid-cols-2 mb-6">
      <div class="card">
        <header class="card-header">
          <p class="card-header-title">
            <span class="icon"><i class="mdi mdi-account-circle"></i></span>
            Add Event
          </p>
        </header>
        <div class="card-content">
          <form method="post" id="myForm">
            <div class="field">
                <label class="label">Event Name</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" id="name" name="name" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
                <label class="label">Description</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" name="description" id="description" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
                <label class="label">Event Date</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" name="event_date" id="event_date" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
                <label class="label">Photolink</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" value="URL of events picture" name="photolink" id="photolink" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
                <label class="label">Event Status</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" value="For active event enter 1; for inactive event 0" name="eventstatus" id="eventstatus" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
                <label class="label">Highlighted</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" name="highlighted" id="highlighted" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
                <label class="label">Chapter Id</label>
                <div class="field-body">
                  <div class="field">
                    <div class="control">
                      <input type="text" autocomplete="on" name="chapter_id" id="chapter_id" class="input" required>
                    </div>
                  </div>
                </div>
              </div>
            <hr>
            <div class="field">
              <div class="control">
                <button id="submitted" type="submit" class="button green">
                  Submit
                </button>
              </div>
            </div>
          </form>
          <p id="log1"></p>
        </div>
      </div>
<footer>
</footer>
<script>
  function logSubmit(event){
    event.preventDefault();
    //.log("Form Submitteeeed");
    //console.log(chapter_id1);
    //log1.textContext=`Form Submitted!`;
    const formData =new FormData(form);
    const chapter_id=formData.get("chapter_id");
    const name=formData.get('name');
    const description=formData.get('description');
    const event_date=formData.get('event_date');
    const photolink=formData.get('photolink');
    const eventstatus=formData.get('eventstatus');
    const highlighted=formData.get('highlighted');
    console.log(chapter_id,name,description);

    const btn = document.getElementById('submitted');

    const data={
      name: name,
      description: description,
      event_date: event_date,
      photolink: photolink,
      eventstatus: eventstatus,
      highlighted: highlighted,
      chapter_id: chapter_id,
    }

    console.log(data);
    fetch('/api/createevent',{
      method:'POST',
      headers:{
        "Content-Type": "application/json",
        "auth-key":"0d5d254b22d390d9e11a132d53521a229da9fa0ae9ba009a76499f57c1d64e30",
      },
      body:JSON.stringify(data),
    })
    btn.textContent = 'Submitted';
  

  }

  const form=document.getElementById('myForm');
  form.addEventListener('submit',logSubmit);
</script>
  <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=658339141622648&ev=PageView&noscript=1"/></noscript>
<link rel="stylesheet" href="https://cdn.materialdesignicons.com/4.9.95/css/materialdesignicons.min.css">
</body>
</html>